+-------------+-------------+--------------+------------+----------------+----------------+
| state\event | :           | ALPHA        | SPACE      | CR             | EOF            |
+-------------+-------------+--------------+------------+----------------+----------------+
|             | ----        | ----         |            |                |                |
| READY       | KEY         | LANG         |            |                |                |
+-------------+-------------+--------------+------------+----------------+----------------+
|             |             |              |            | done           | done           |
|             |             |              | ----       | ----           | ----           |
| LANG        |             |              | READY      | READY          | READY          |
+-------------+-------------+--------------+------------+----------------+----------------+
|             | invalid key |              | save key   | no value error | no value error |
|             | ----        | append key   | ----       | ----           | ----           |
| KEY         | ERROR       | ----         | VALUE      | ERROR          | ERROR          |
+-------------+-------------+--------------+------------+----------------+----------------+
|             | save value  |              | save value | save value     | save value     |
|             | ----        | append value | ----       | ----           | ----           |
| VALUE       | KEY         | ----         | READY      | READY          | READY          |
+-------------+-------------+--------------+------------+----------------+----------------+
| ERROR       |             |              |            |                |                |
+-------------+-------------+--------------+------------+----------------+----------------+
